////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

import cors from "cors"
import express, { Express, Request, Response } from "express"
import cookieParser from "cookie-parser"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

import { serverConfig } from "@/config/env"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const startServer = () => {
  try {
    const app: Express = express()
    const port: number = 3000
    const corsOptions = {
      origin: [serverConfig.client.ORIGIN],
      credentials: true
    }
    app.use(cors(corsOptions))
    app.use(express.json())
    app.use(cookieParser())    
    app.listen(port, () => { console.log(`Server Running on Port ${port}`) })
  }
  catch (object: unknown) {
    const error = object as Error
    console.error("Application Error")
    console.log(error)
  }
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

startServer()

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
