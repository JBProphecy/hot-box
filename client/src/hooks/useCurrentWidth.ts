////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

import { useEffect, useState } from "react"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

function getCurrentWidth(element: React.RefObject<HTMLElement>) {
  return element.current?.offsetWidth || 0
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

export default function useCurrentWidth(element: React.RefObject<HTMLElement>) {
  const [width, setWidth] = useState<number>(getCurrentWidth(element))
  const updateWidth = () => { setWidth(getCurrentWidth(element)) }
  useEffect(() => {
    window.addEventListener("resize", updateWidth)
    return () => { window.removeEventListener("resize", updateWidth) }
  }, [])
  return width
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
